p8105_hw5_tp2806
================
Tejashree Prakash

# Problem 1

#### Cleaning the data.

``` r
#Load data
homicide_df <- read_csv("data/homicide-data.csv")
```

    ## Rows: 52179 Columns: 12
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (9): uid, victim_last, victim_first, victim_race, victim_age, victim_sex...
    ## dbl (3): reported_date, lat, lon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
#Add city_state variable 
homicide_df <- homicide_df %>%
  mutate(city_state = str_c(city, ", ", state))

#Add homicide variable 
homicide_df <- homicide_df %>%
  mutate(
    resolved = as.numeric(disposition == "Closed by arrest"),
    victim_age = as.numeric(victim_age),
    victim_race = fct_relevel(victim_race, "White")) %>%
  filter(!city %in% c("Dallas", "Phoenix", "Kansas City", "Tulsa")) %>%
  filter(victim_race %in% c("Black", "White"))
```

    ## Warning: There was 1 warning in `mutate()`.
    ## ℹ In argument: `victim_age = as.numeric(victim_age)`.
    ## Caused by warning:
    ## ! NAs introduced by coercion

``` r
head(homicide_df, 5)
```

    ## # A tibble: 5 × 14
    ##   uid   reported_date victim_last victim_first victim_race victim_age victim_sex
    ##   <chr>         <dbl> <chr>       <chr>        <fct>            <dbl> <chr>     
    ## 1 Alb-…      20100601 SATTERFIELD VIVIANA      White               15 Female    
    ## 2 Alb-…      20100102 MULA        VIVIAN       White               72 Female    
    ## 3 Alb-…      20100126 BOOK        GERALDINE    White               91 Female    
    ## 4 Alb-…      20100130 MARTIN-LEY… GUSTAVO      White               56 Male      
    ## 5 Alb-…      20100218 LUJAN       KEVIN        White               NA Male      
    ## # ℹ 7 more variables: city <chr>, state <chr>, lat <dbl>, lon <dbl>,
    ## #   disposition <chr>, city_state <chr>, resolved <dbl>

#### Performing regression model for Baltimore.

``` r
baltimore_df <- homicide_df %>%
  filter(city == "Baltimore")

baltimore_log <- 
  homicide_df %>% 
  glm(resolved ~ victim_age + victim_race + victim_sex, data = ., family = binomial()) 

baltimore_log_results <- baltimore_log %>%
  broom::tidy() %>% 
  mutate(OR = exp(estimate)) %>%
  select(term, log_OR = estimate, OR, p.value)

baltimore_log_results %>%
  knitr::kable(digits = 3)
```

| term              | log_OR |    OR | p.value |
|:------------------|-------:|------:|--------:|
| (Intercept)       |  0.945 | 2.572 |   0.000 |
| victim_age        | -0.002 | 0.998 |   0.008 |
| victim_raceBlack  | -0.594 | 0.552 |   0.000 |
| victim_sexMale    | -0.512 | 0.599 |   0.000 |
| victim_sexUnknown | -0.076 | 0.927 |   0.811 |
